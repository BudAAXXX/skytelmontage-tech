// SkyTel Montage – 404 stránka: nalezena, ale nefunkční, pořád někde lezu
import { useEffect, useState } from "react";
import { motion } from "framer-motion";

const messages = {
  cz: "Stránka nalezena, ale nemám čas ji sprovoznit. Pořád někde lezu...",
  en: "Page found, but I don't have time to set it up. Always climbing...",
  de: "Seite gefunden, aber keine Zeit sie aufzubauen. Bin ständig am Klettern...",
  es: "Página encontrada, pero no tengo tiempo para configurarla. Siempre escalando...",
  fr: "Page trouvée, mais pas le temps de la configurer. Toujours en train de grimper...",
  it: "Pagina trovata, ma non ho tempo per sistemarla. Sempre in arrampicata...",
  kl: "velqa' tu'lu', 'ach jImejtaH. reH Hu' jIH."
};

const langs = Object.keys(messages);

export default function SkyTel404() {
  const [langIndex, setLangIndex] = useState(0);

  useEffect(() => {
    const interval = setInterval(() => {
      setLangIndex((prev) => (prev + 1) % langs.length);
    }, 5000);
    return () => clearInterval(interval);
  }, []);

  const currentLang = langs[langIndex];

  return (
    <div className="relative w-full h-screen bg-black overflow-hidden font-sans">
      {/* Matrix pozadí */}
      <div className="absolute top-0 left-0 w-full h-full z-0 animate-pulse">
        <canvas id="matrix-canvas" className="w-full h-full"></canvas>
      </div>

      {/* Text zprávy */}
      <div className="absolute inset-0 z-10 flex flex-col items-center justify-center text-center px-4">
        <motion.h1
          key={currentLang}
          initial={{ opacity: 0, y: -20 }}
          animate={{ opacity: 1, y: 0 }}
          exit={{ opacity: 0, y: 20 }}
          transition={{ duration: 1 }}
          className="text-green-400 text-xl sm:text-3xl md:text-4xl lg:text-5xl"
        >
          {messages[currentLang]}
        </motion.h1>
      </div>

      {/* Trademark */}
      <div className="absolute bottom-2 right-4 text-xs text-green-600 z-10">
        SkyTel Montage™
      </div>

      {/* Matrix efekt */}
      <script>
        {`
        const canvas = document.getElementById("matrix-canvas");
        if (canvas) {
          const ctx = canvas.getContext("2d");
          canvas.height = window.innerHeight;
          canvas.width = window.innerWidth;

          const katakana = "アァイィウヴエェオカガキギクグケゲコゴサザシジスズセゼソゾタダチッヂヅテデトドナニヌネノハバパヒビピフブプヘベペホボポマミムメモヤユヨラリルレロワヲン";
          const latin = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
          const nums = "0123456789";
          const alphabet = katakana + latin + nums;

          const fontSize = 14;
          const columns = canvas.width / fontSize;
          const drops = Array.from({ length: columns }).fill(1);

          function draw() {
            ctx.fillStyle = "rgba(0, 0, 0, 0.05)";
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = "#0f0";
            ctx.font = `${fontSize}px monospace`;
            for (let i = 0; i < drops.length; i++) {
              const text = alphabet.charAt(Math.floor(Math.random() * alphabet.length));
              ctx.fillText(text, i * fontSize, drops[i] * fontSize);
              if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
                drops[i] = 0;
              }
              drops[i]++;
            }
          }
          setInterval(draw, 50);
        }
        `}
      </script>
    </div>
  );
}
    }
  ]
}
